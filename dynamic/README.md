# Roles の参照先を動的に変える

[vars.yml](./vars/vars.yml)の変数 `kawaii` の値に応じて挙動を変える何かをやりたい。

## base

何も考えずに `hiyoko` と `hitsuji` を実行しているだけ。
本題とは関係なくベースとなる挙動を確認するためだけの playbook

## dynamic-1

参照する role を role の名称として直に指定している。

## dynamic-2

参照する role を `kawaii` ディレクトリにコピーし、それを参照している

## dynamic-3

**これは上手く動かなかった**

参照する role へのシンボリックリンクを作成し、それを参照させる。

しかし、実行前にシンボリックリンクがある場合に差し替える前のシンボリックリンクの先を参照して実行してしまう。
また、シンボリックリンクがない場合は実行前に「ないよ」と怒られてそもそも実行できない。

シンボリックリンクを作った後に再度読み込ませるみたいなことをしないとおそらくは上手く動かないだろう。
「prepare」みたいな playbook を作成し、それに `kawaii-synbolic-link` を実行させ、
その後に `kawaii-sl` を実行する playbook を実行することで解決できそう。
